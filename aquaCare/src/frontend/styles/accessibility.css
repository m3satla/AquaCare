/* High Contrast Mode */
.high-contrast {
  --hc-primary-bg: #000000;
  --hc-primary-text: #ffffff;
  --hc-secondary-bg: #ffffff;
  --hc-secondary-text: #000000;
  --hc-border: #000000;
  --hc-focus: #ffff00;
  --hc-error: #ff0000;
  --hc-success: #008000;
  --hc-accent: #0066cc;
}

/* Apply high contrast only to specific elements, not everything */
.high-contrast body {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  /* Ensure no CSS filter conflicts */
  filter: none !important;
}

/* Make sure high contrast doesn't break layout */
.high-contrast {
  /* Preserve original transitions unless reduced motion is on */
  transition: none;
}

.high-contrast:not(.reduced-motion) * {
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* High contrast buttons */
.high-contrast .MuiButton-contained {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
  border: 2px solid var(--hc-primary-bg) !important;
}

.high-contrast .MuiButton-contained:hover {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  border: 2px solid var(--hc-primary-bg) !important;
}

.high-contrast .MuiButton-outlined {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  border: 2px solid var(--hc-primary-bg) !important;
}

.high-contrast .MuiButton-outlined:hover {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
}

.high-contrast .MuiButton-text {
  color: var(--hc-secondary-text) !important;
  background-color: transparent !important;
}

.high-contrast .MuiButton-text:hover {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
}

/* High contrast inputs */
.high-contrast .MuiTextField-root .MuiOutlinedInput-root {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
}

.high-contrast .MuiTextField-root .MuiOutlinedInput-notchedOutline {
  border-color: var(--hc-border) !important;
  border-width: 2px !important;
}

.high-contrast .MuiTextField-root .MuiInputLabel-root {
  color: var(--hc-secondary-text) !important;
}

/* High contrast focus */
.high-contrast *:focus-visible {
  outline: 3px solid var(--hc-focus) !important;
  outline-offset: 2px !important;
}

/* Reduced Motion */
.reduced-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

.reduced-motion *::before,
.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

/* Font Size Utilities */
.font-small {
  font-size: 0.875rem !important;
}

.font-medium {
  font-size: 1rem !important;
}

.font-large {
  font-size: 1.125rem !important;
}

/* Focus indicators for better accessibility */
.accessibility-focus:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

/* RTL Support */
[dir="rtl"] {
  text-align: right;
}

[dir="ltr"] {
  text-align: left;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Skip links */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #000;
  color: #fff;
  padding: 8px;
  text-decoration: none;
  z-index: 10000;
}

.skip-link:focus {
  top: 6px;
}

/* High contrast mode - specific MUI components */
.high-contrast .MuiAppBar-root {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
  border-bottom: 2px solid var(--hc-border) !important;
}

.high-contrast .MuiPaper-root {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  border: 1px solid var(--hc-border) !important;
}

.high-contrast .MuiTypography-root {
  color: inherit !important;
}

.high-contrast .MuiIconButton-root {
  color: var(--hc-secondary-text) !important;
  background-color: transparent !important;
}

.high-contrast .MuiIconButton-root:hover {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
}

.high-contrast .MuiSvgIcon-root {
  color: inherit !important;
}

/* High contrast navigation and menu items */
.high-contrast .MuiListItem-root {
  color: var(--hc-secondary-text) !important;
  background-color: transparent !important;
}

.high-contrast .MuiListItem-root:hover {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
}

.high-contrast .MuiMenuItem-root {
  color: var(--hc-secondary-text) !important;
  background-color: var(--hc-secondary-bg) !important;
}

.high-contrast .MuiMenuItem-root:hover {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
}

/* High contrast cards and containers */
.high-contrast .MuiCard-root {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  border: 2px solid var(--hc-border) !important;
}

.high-contrast .MuiCardContent-root {
  color: inherit !important;
}

/* High contrast form controls */
.high-contrast .MuiFormControlLabel-root {
  color: var(--hc-secondary-text) !important;
}

.high-contrast .MuiSwitch-root .MuiSwitch-track {
  background-color: var(--hc-border) !important;
}

.high-contrast .MuiSwitch-root .Mui-checked + .MuiSwitch-track {
  background-color: var(--hc-primary-bg) !important;
}

.high-contrast .MuiSwitch-root .MuiSwitch-thumb {
  background-color: var(--hc-secondary-bg) !important;
}

/* High contrast alerts and feedback */
.high-contrast .MuiAlert-root {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  border: 2px solid var(--hc-border) !important;
}

.high-contrast .MuiAlert-standardError {
  border-color: var(--hc-error) !important;
}

.high-contrast .MuiAlert-standardSuccess {
  border-color: var(--hc-success) !important;
}

/* Protect certain elements from high contrast overrides */
.high-contrast .MuiLinearProgress-root,
.high-contrast .MuiCircularProgress-root,
.high-contrast .MuiSkeleton-root {
  /* Preserve loading indicators */
  filter: none !important;
  opacity: 1 !important;
}

.high-contrast img,
.high-contrast video,
.high-contrast canvas {
  /* Don't mess with media */
  filter: none !important;
}

/* High contrast table improvements */
.high-contrast .MuiTable-root {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
}

.high-contrast .MuiTableCell-root {
  border-color: var(--hc-border) !important;
  color: inherit !important;
  background-color: inherit !important;
}

.high-contrast .MuiTableHead-root .MuiTableCell-root {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
}

/* High contrast drawer and sidebar */
.high-contrast .MuiDrawer-paper {
  background-color: var(--hc-secondary-bg) !important;
  color: var(--hc-secondary-text) !important;
  border-color: var(--hc-border) !important;
}

/* High contrast tooltips */
.high-contrast .MuiTooltip-tooltip {
  background-color: var(--hc-primary-bg) !important;
  color: var(--hc-primary-text) !important;
  border: 1px solid var(--hc-border) !important;
}
